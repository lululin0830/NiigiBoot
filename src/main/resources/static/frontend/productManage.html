<!doctype html>
<html lang="zh-tw">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Member Check Order</title>

	<link rel="stylesheet" href="./vendors/bootstrap/bootstrap.min.css">
	<link rel="stylesheet" href="./css/core.css">
	<link rel="stylesheet" href="./css/font.css">
	<link rel="stylesheet" href="./css/button.css">
	<link rel="stylesheet" href="./css/index.header.css"> <!-- header的CSS 勿刪-->
	<link rel="stylesheet" href="./css/index.footer.css"> <!-- footer的CSS 勿刪-->
	<link rel="stylesheet" href="./css/customer.aside.css">

	<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">


	<style>
		main.main_content {
			height: 100;
			background-color: #ffffff;
		}

		div.main_content {
			font-size: 0;
		}

		/* main content */
		main.member-check-order {
			display: inline-block;
			vertical-align: top;
			padding-left: 25px;
		}

		div.main-content-icon {
			width: 6rem;
		}

		div.main-content-header img,
		div.main-content-header>h1 {
			display: inline-block;
			vertical-align: bottom;
			margin: 4.5rem 0 0 0;
		}

		hr.main-content-divider {
			width: 100%;
			border: 1px solid #EEEEEE;
			margin: 18px 0 28px 0;
			opacity: 1;
		}

		/* Tab */
		.nav-tabs {
			--bs-nav-tabs-border-color: #f7f7f7;
			--bs-nav-tabs-border-width: 2px;
			--bs-nav-tabs-border-radius: 0.5rem
		}

		.nav-tabs .nav-link {
			margin-bottom: calc(-1 * var(--bs-nav-tabs-border-width));
			border: var(--bs-nav-tabs-border-width);
			border-top-left-radius: var(--bs-nav-tabs-border-radius);
			border-top-right-radius: var(--bs-nav-tabs-border-radius);
			width: 12rem;
			height: 5rem;
			text-align: center;
			vertical-align: middle;
			font-style: normal;
			font-weight: 600;
			font-size: 2.4rem;
			color: #4C4C4C;
			background-color: #f7f7f7;
			margin-right: 1.5px;
		}

		.nav-tabs .nav-item.show .nav-link,
		.nav-tabs .nav-link.active {
			color: #4C4C4C;
			background-color: rgba(183, 221, 229, 0.60);
		}

		/* Tab content */
		div.tab-content {
			color-scheme: light;
			text-rendering: optimizeLegibility;
			-webkit-font-smoothing: antialiased;
			font-size: 0;
			padding: 1.5rem;
			flex-shrink: 1;
			background: #fff;
			z-index: 1;
			box-shadow: 0px 6px 7px -1px rgba(67, 89, 113, 0.12);
			border-radius: 0 0 0.375rem 0.375rem;
			border-top-right-radius: 0.375rem;
		}

		.navs-top-home_top>div {
			display: inline-block;
			vertical-align: baseline;
		}

		div.navs-top-home_top_btn {
			width: fit-content;
			margin: 15px auto auto auto;
		}

		div.navs-top-home_top_btn:first-child {
			width: fit-content;
			margin: 0 auto auto auto;
		}

		.navs-top-home_top>.col-sm-2 {
			vertical-align: text-bottom;
			margin-bottom: 2.2rem;
		}

		div.navs-top-home_top>hr {
			border: 1px solid #EEEEEE;
			margin: 28px 0 18px 0;
			opacity: 1;
		}

		div.divider {
			text-align: center;
			vertical-align: bottom;
			padding: 0;
			width: fit-content;
		}

		tbody,
		td,
		tfoot,
		th,
		thead,
		tr {
			border-color: inherit;
			border-style: solid;
			border-width: 0;
			font-size: initial;
		}

		h4.modal-title {
			text-align: center;
			transform: translateX(+10px);
		}

		div.saveCredit {
			vertical-align: baseline;
		}

		input#saveCredit,
		input#saveCredit~label {
			margin-right: 10px;
			font-size: 14px;
			font-weight: 500;
			color: #A0A0A0;
		}

		div#cancelOrderModal div.modal-header {
			border-bottom: 0px;
		}

		div#cancelOrderModal div.modal-footer {
			border-top: 0px;
		}

		ul.order-list {
			list-style: none;
			padding: 0.5rem;
		}

		ul.sub-order-list {
			list-style: none;
			padding: 0 1.5rem;
			background-color: none;
		}

		.sub-order>div {
			display: inline-block;
			vertical-align: middle;
		}

		div.order_item_priview {
			width: 12rem;
			height: 12rem;
			overflow: hidden;
		}

		img.order_item_priview {
			height: 100%;
		}

		div.navs-top-home-content {
			background-color: white;
		}

		div.navs-top-home-content-btn {
			width: fit-content;
			margin: auto 0 auto 15%;
		}

		div.navs-top-home-content hr {
			border: 1px solid #EEEEEE;
			margin: 18px 0;
			opacity: 1;
		}

		/* ---------------------------------- */

		.tableOne {
			width: 885px;
			background-color: #EEEEEE;
		}

		.tableOne .productTotal {
			width: 440px;
			padding: 0 10px;
		}

		.tableTwo {
			width: 885px;
		}


		.tableTwo th {
			background-color: #EEEEEE;
			width: 100px;
			height: 50px;
			text-align: center;
			padding: 3px;
		}

		.tableTwo tr {
			border-bottom: 1px solid #EEEEEE;
		}

		.tableTwo td {
			width: 100px;
			text-align: center;
			padding: 3px;
		}

		.tableTwo thead th.checkAll {
			width: 30px;
			text-align: left;
			padding: 0 10px;
		}

		.tableTwo tbody td.check {
			width: 30px;
			text-align: left;
			padding: 0 10px;
		}

		.productImg {
			width: 70px;
			height: 70px;
		}

		.tableTwo thead th.productNameTh {
			width: 180px;
		}

		.tableTwo tbody td.productNameTd {
			width: 180px;
			text-align: left;
			padding: 0 30px;
		}

		.tableTwo tbody td p {
			width: 180px;
			text-align: left;
			margin: 0 0 0 0px
		}

		.productId {
			color: #94A3B8;
		}

		.tableTwo tbody td button.edit_btn {
			margin-bottom: 10px;
		}

		/* ------------------新申請彈窗----------------------- */
		/*選擇圖片的按鈕*/
		.img_spc_file {
			display: none;
		}

		.img_spc_file+label {
			display: inline-block;
			background-color: lightgrey;
			color: black;
			border-radius: 5px;
			cursor: pointer;
			font-size: 5px;
			/* 調整文字大小 */
			border: 1px solid black;
			/* 添加邊框 */
			margin-top: 5px;
		}

		.img_spc_file+label::before {
			content: '選擇檔案';
			display: inline-block;
			vertical-align: middle;
			margin-right: 5px;
			/* 調整圖示和文字之間的間距 */
			font-size: 10px;
			/* 調整圖示大小 */
		}

		/*表格的地方*/

		.spec_table_edit {
			border-bottom: 1px solid #EEEEEE;
		}

		.spec_table_edit th {
			background-color: #EEEEEE;
			width: 100px;
			height: 50px;
			text-align: center;
			padding: 3px;
		}

		.spec_table_edit tr {
			border-bottom: 1px solid darkgrey;
			;
		}

		.spec_table_edit td {
			height: 100px;
			width: 100px;
			text-align: center;
			padding: 3px;
		}

		.product_spec_img {
			width: 60px;
			height: 60px;
			border: 1px solid darkgrey;
		}

		.specType1,
		.specType2 {
			width: 60px;
		}

		.specInfo1,
		.specInfo2 {
			width: 180px;
		}
	</style>
	<script>const loginRequired = true </script>
</head>

<body>

	<script src="./js/core_supplier.js"></script>
	<!-- -------------------------------- 以下是Header 勿動！！！！-------------------------------- -->
	<header id="main-header" class="header">

		<div class="container-sm">

			<div class="header-top row">

				<div class="col-sm-2">
					<a class="header-logo" href="/"><img class="logo" src="./image/logo.svg" alt=""></a>
				</div>

				<div class="col-sm-6">
					<form action="" method="get" class="header-search row">
						<input type="text" name="search" class="header-search-input col-sm-10" placeholder="Search"
							maxlength="50" value="">

						<button type="submit" class="header-search-submit col-sm-1"><img
								src="./image/search.svg"></button>
					</form>

					<div class="Search-hot ">
						<a class="trend_link" id="trend_link1" href="">熱搜關鍵字1</a>
						<a class="trend_link" id="trend_link2" href="">熱搜關鍵字</a>
					</div>

				</div>

				<nav class="fixed-nav col-sm-4">

					<div class="fixed-nav-list login row">
						<a href="" class="SCM-Center col">
							<div class="SCM_icon">
								<button class="btn_SCM-Center">商家中心</button>
							</div>
						</a>

						<a href="" class="User-Center col">
							<div class="User_icon">
								<img src="./image/Profile.svg" alt="">
							</div>
						</a>

						<a href="" class="Favorite col">
							<div class="header_icon">
								<img src="./image/heart.svg" alt="">
								<span class="count -active">0</span>
							</div>
						</a>

						<a href="" class="Shopping-Cart col">
							<div class="header_icon">
								<img src="./image/Buy.svg" alt="">
								<span class="count -active">0</span>
							</div>
						</a>

						<a href="" class="Notification col">
							<div class="header_icon">
								<img src="./image/Notification.svg" alt="">
								<span class="count -active">0</span>
							</div>
						</a>

					</div>

				</nav>
			</div>

		</div>

	</header>

	<main class="main_content">

		<div class="main_content container-sm">

			<aside class="member-aside col-sm-2">

				<div class="member-profile row ">
					<div class="memberPhoto col-sm-4">
						<img class="memberPhoto" src="../frontend/image/AE404A5E-7B08-4A2A-B1A1-8D3F8FEE9CB8.png">
					</div>
					<div class="member-info col-sm-8">
						<h4 class="memberAccount">jeffrey47</h4>
						<h6 id="supplierId"></h6>
					</div>
				</div>
				<ul class="nav1_list">
					<li>
						<h4>MENU</h4>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Chart.svg" alt="">
							<img src="../frontend/image/Chart-a.svg" alt="">商家中心
						</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/DocumentAsh.svg" alt="">
							<img src="../frontend/image/DocumentAsh-a.svg" alt="">訂單狀態</a>
					</li>
					<li class="active">
						<a href="#">
							<img src="../frontend/image/Edit.svg" alt="">
							<img src="../frontend/image/Edit.svg" alt="">商品管理</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Discount.svg" alt="">
							<img src="../frontend/image/Discount-a.svg" alt="">行銷活動</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Shield Done.svg" alt="">
							<img src="../frontend/image/Shield Done.svg" alt="">廣告管理</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Wallet.svg" alt="">
							<img src="../frontend/image/Wallet-a.svg" alt="">財務管理</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Activity.svg" alt="">
							<img src="../frontend/image/Activity.svg" alt="">數據中心</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Game.svg" alt="">
							<img src="../frontend/image/Game-a.svg" alt="">假期模式</a>
					</li>
					<li>
						<h4>OTHERS</h4>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Profile1.svg" alt="">
							<img src="../frontend/image/Profile1-a.svg" alt="">商家資訊</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/2 User.svg" alt="">
							<img src="../frontend/image/2 User.svg" alt="">使用者管理</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Setting.svg" alt="">
							<img src="../frontend/image/Setting-a.svg" alt="">帳號管理</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Info Square.svg" alt="">
							<img src="../frontend/image/Info Square-a.svg" alt="">取得協助</a>
					</li>
					<li>
						<a href="#">
							<img src="../frontend/image/Logout.svg" alt="">
							<img src="../frontend/image/Logout-a.svg" alt="">登出</a>
					</li>
				</ul>
			</aside>
			<main class="member-check-order col-sm-10">
				<div class="main-content-header row">
					<div class="main-content-icon col-sm-1">
						<img calss="main-content-icon" src="./image/productManage.svg">
					</div>
					<h1 class="main-content-title col-sm-10">商品管理</h1>
					<hr class="main-content-divider">
				</div>

				<div class="row">
					<div class="col-sm-12">
						<div class="nav-align-top mb-4 d-flex justify-content-between">
							<ul class="nav nav-tabs" role="tablist">
								<!-- 分頁清單 -->
								<li class="nav-item">
									<button type="button" class="nav-link active" role="tab" data-bs-toggle="tab"
										data-bs-target="#navs-top-home" aria-controls="navs-top-home"
										aria-selected="true">
										全部
									</button>
								</li>
								<li class="nav-item">
									<button type="button" class="nav-link" role="tab" data-bs-toggle="tab"
										data-bs-target="#navs-top-inprogress" aria-controls="navs-top-inprogress"
										aria-selected="false">
										上架中
									</button>
								</li>
								<li class="nav-item">
									<button type="button" class="nav-link" role="tab" data-bs-toggle="tab"
										data-bs-target="#navs-top-transport" aria-controls="navs-top-transport"
										aria-selected="false">
										已下架
									</button>
								</li>
								<li class="nav-item">
									<button type="button" class="nav-link" role="tab" data-bs-toggle="tab"
										data-bs-target="#navs-top-complete" aria-controls="navs-top-complete"
										aria-selected="false">
										已售完
									</button>
								</li>
							</ul>
						</div>

						<div class="tab-content">
							<!-- 分頁內容 -->
							<!-- 全部 -->
							<div class="tab-pane fade show active" id="navs-top-home" role="tabpanel">
								<table class="tableOne">
									<thead>
										<tr>
											<th class="productTotal" style="width: 380px;">1,000商品</th>
											<th>
												<select id="collectionSelect" class="form-select"
													aria-label="Default select example" style="width: 120px;">
													<option value="1">商品名稱</option>
													<option value="2">商品規格編號</option>
												</select>
											</th>
											<th>
												<div class="search-box">
													<input class="search-KeyWord" type="text" placeholder="Search">
												</div>
											</th>
											<th><button class="btn btn-outline-secondary Search_btn" type="submit">搜尋</button></th>
											<th><button class="btn btn-outline-secondary product_edit_btn" type="submit">編輯商品</button></th>
											<th>
												<a href="product_new.html"><button class="btn btn-outline-secondary product_new"
														type="submit">新增商品</button></a>
											</th>

										</tr>
									</thead>

								</table>
								<table class="tableTwo">
									<thead>
										<tr>
											<th class="checkAll">
												<input type="checkbox" id="selectAll">
											</th>
											<th></th>
											<th class="productNameTh">商品名稱</th>
											<th>規格一</th>
											<th>規格二</th>
											<th>售價</th>
											<th>即時<br>庫存</th>
											<th>已售出</th>
											<th>狀態</th>
											<th class="operate_txt">操作</th>
										</tr>
									</thead>
									<tbody id="AllProduct">


									</tbody>

								</table>
							</div>
							<!-- 上架中 -->
							<div class="tab-pane fade" id="navs-top-inprogress" role="tabpanel">
								<table class="tableOne">
									<thead>
										<tr>
											<th class="productTotal" style="width: 400px;">1,000商品</th>
											<th>
												<select id="collectionSelect" class="form-select"
													aria-label="Default select example" style="width: 120px;">
													<option value="1">商品名稱</option>
													<option value="2">商品規格編號</option>
												</select>
											</th>
											<th>
												<div class="search-box">
													<input class="search-KeyWord" type="text" placeholder="Search">
												</div>
											</th>
											<th><button class="btn btn-outline-secondary Search_btn" type="submit">搜尋</button></th>
											<th><button class="btn btn-outline-secondary status_btn" type="submit">下架</button></th>
											<th><button class="btn btn-outline-secondary stock_update_btn" type="submit">庫存異動</button></th>
										</tr>
									</thead>

								</table>
								<table class="tableTwo">
									<thead>
										<tr>
											<th class="checkAll">
												<input type="checkbox" id="selectAll">
											</th>
											<th></th>
											<th class="productNameTh">商品名稱</th>
											<th>規格一</th>
											<th>規格二</th>
											<th>售價</th>
											<th>即時<br>庫存</th>
											<th>已售出</th>
											<th>狀態</th>
											<th class="operate_txt">操作</th>
										</tr>
									</thead>
									<tbody id="UpProduct">


									</tbody>

								</table>
							</div>
							<!-- 已下架 -->
							<div class="tab-pane fade" id="navs-top-transport" role="tabpanel">
								<table class="tableOne">
									<thead>
										<tr>
											<th class="productTotal">1,000商品</th>
											<th>
												<select id="collectionSelect" class="form-select"
													aria-label="Default select example" style="width: 120px;">
													<option value="1">商品名稱</option>
													<option value="2">商品規格編號</option>
												</select>
											</th>
											<th>
												<div class="search-box">
													<input class="search-KeyWord" type="text" placeholder="Search">
												</div>
											</th>
											<th><button class="btn btn-outline-secondary Search_btn" type="submit">搜尋</button></th>
											<th><button class="btn btn-outline-secondary status_btn" type="submit">上架</button></th>
											<th><button class="btn btn-outline-secondary delete_btn" type="submit">刪除</button></th>
										</tr>
									</thead>

								</table>
								<table class="tableTwo">
									<thead>
										<tr>
											<th class="checkAll">
												<input type="checkbox" id="selectAll">
											</th>
											<th></th>
											<th class="productNameTh">商品名稱</th>
											<th>規格一</th>
											<th>規格二</th>
											<th>售價</th>
											<th>即時<br>庫存</th>
											<th>已售出</th>
											<th>狀態</th>
											<th class="operate_txt">操作</th>
										</tr>
									</thead>
									<tbody id="DownProduct">

									</tbody>

								</table>
							</div>
							<!-- 已售完 -->
							<div class="tab-pane fade" id="navs-top-complete" role="tabpanel">
								<table class="tableOne">
									<thead>
										<tr>
											<th class="productTotal" style="width: 460px;">1,000商品</th>
											<th>
												<select id="collectionSelect" class="form-select"
													aria-label="Default select example" style="width: 120px;">
													<option value="1">商品名稱</option>
													<option value="2">商品規格編號</option>
												</select>
											</th>
											<th>
												<div class="search-box">
													<input class="search-KeyWord" type="text" placeholder="Search">
												</div>
											</th>
											<th><button class="btn btn-outline-secondary Search_btn" type="submit">搜尋</button></th>
											<th><button class="btn btn-outline-secondary stock_update_btn" type="submit">庫存異動</button></th>
										</tr>
									</thead>

								</table>
								<table class="tableTwo">
									<thead>
										<tr>
											<th class="checkAll">
												<input type="checkbox" id="selectAll">
											</th>
											<th></th>
											<th class="productNameTh">商品名稱</th>
											<th>規格一</th>
											<th>規格二</th>
											<th>售價</th>
											<th>即時<br>庫存</th>
											<th>已售出</th>
											<th>狀態</th>
											<th class="operate_txt">操作</th>
										</tr>
									</thead>
									<tbody id="SoldProduct">

									</tbody>

								</table>
							</div>
						</div>

					</div>

				</div>
			</main>

		</div>



	</main>

	<!-- -------------------以下是編輯規格彈窗內容------------------- -->
	<div class="modal fade" id="productSpec_edit_button" tabindex="-1" role="dialog" aria-labelledby="myModalLabel-1"
		aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body d-flex flex-column justify-content-center align-items-center">
					<h1 class="modal-title" style="text-align: center;">編輯規格</h1>
					<p class="productSpecId" style="font-size: 12px;">*商品規格編號待系統自動產生</p>
					<div>
						<table class="spec_table_edit">
							<thead>
								<tr>
									<th>規格圖</th>
									<th>規格類型一</th>
									<th>規格一詳細</th>
									<th>規格類型二</th>
									<th>規格二詳細</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<img class="product_spec_img" id="specPicture1" src="./image/square.svg" alt="">
										<input type="file" class="img_spc_file" id="file_Spec_Input1"
											data-target="#specPicture1" />
										<label for="file_Spec_Input1"></label>
									</td>
									<td>
										<select class="specType1">
											<option value="1">尺寸</option>
											<option value="2">顏色</option>
											<option value="3">容量</option>
											<option value="4">材質</option>
										</select>

									</td>
									<td>
										<input class="specInfo1" type="text" value="" placeholder="最多10字"
											maxlength="10">
									</td>
									<td>
										<select class="specType2">
											<option value="1">尺寸</option>
											<option value="2">顏色</option>
											<option value="3">容量</option>
											<option value="4">材質</option>
										</select>
									</td>
									<td>
										<input class="specInfo2" type="text" value="" placeholder="最多10字"
											maxlength="10">
									</td>
								</tr>
							</tbody>

						</table>
						<div class="container" style="text-align: center;margin-top: 10px;">
							<button class="Save_edit_btn btn btn-primary" type="button">變更儲存</button>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- -------------------以下是編輯商品彈窗內容------------------- -->
	<div class="modal fade" id="product_edit_button" tabindex="-1" role="dialog" aria-labelledby="myModalLabel-1"
		aria-hidden="true">
		<div class="modal-dialog modal-sm" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body d-flex flex-column justify-content-center align-items-center">
					<h3 class="modal-title" style="text-align: center;">輸入商品編號</h3>
					<p class="error_message" style="font-size: 12px;color: red;display: none;">查無資料，請重新輸入</p>
					<div>
						<input class="inquire" type="text" value="" placeholder="請輸入8碼" maxlength="8"
							style="text-align: center;">
						<div class="container" style="text-align: center;margin-top: 10px;">
							<button class="btn-redirect btn btn-primary" type="button">送出</button>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- --------------------------------以下是Footer 勿動！！！！-------------------------------- -->
	<footer id="main-footer" class="footer">

		<div class="container-sm">

			<div class="footer-top row">
				<a class="footer_logo col-sm-2 " href="/"><img class="logo" src="./image/logo.svg" alt=""></a>
			</div>

			<hr class="footer_divider">

			<div class="footer-bottom row justify-content-end">

				<nav class="SNS-nav-list ">

					<a href="" class="Instagram col">
						<div class="Instagram_icon">
							<img src="./image/ant-design_instagram-filled.svg" alt="">
						</div>
					</a>

					<a href="" class="Facebook col">
						<div class="Facebook_icon">
							<img src="./image/mdi_facebook.svg" alt="">
						</div>
					</a>

					<a href="" class="Twitter col ">
						<div class="Twitter_icon">
							<img src="./image/ant-design_twitter-circle-filled.svg" alt="">
						</div>
					</a>
				</nav>
			</div>
		</div>
	</footer>


	<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
	<script src="./vendors/bootstrap/bootstrap.bundle.min.js"></script>
	<script>


		//針對規格1、2、3、4的整理
		function specTypeName(Str) {
			switch (Str) {
				case '1':
					return '尺寸';
				case '2':
					return '顏色';
				case '3':
					return '容量';
				case '4':
					return '材質';
			}
		}

		//針對上架狀態的整理
		function shelvesStatusName(Str) {
			switch (Str) {
				case '0':
					return '上架中';
				case '1':
					return '下架中';
			}
		}

		//針對分頁整理(control)
		function navsTopName(target) {
			switch (target) {
				case '#navs-top-home':
					return 'AllProductSpecManage';
				case '#navs-top-inprogress':
					return 'UpStatusProductSpecManage';
				case '#navs-top-transport':
					return 'DownStatusProductSpecManage';
				case '#navs-top-complete':
					return 'SoldProductSpecManage';
			}
		}

		//針對分頁的tatal整理(control)
		function navsTopTotal(target) {
			switch (target) {
				case '#navs-top-home':
					return 'AllProductSpecTotal';
				case '#navs-top-inprogress':
					return 'UpStatusProductSpecTotal';
				case '#navs-top-transport':
					return 'DownStatusProductSpecTotal';
				case '#navs-top-complete':
					return 'SoldProductSpecTotal';
			}
		}

		//針對分頁搜尋整理(control)
		function navsTopSearchName(target) {
			switch (target) {
				case '#navs-top-home':
					return 'AllSearch';
				case '#navs-top-inprogress':
					return 'UpStatusSearch';
				case '#navs-top-transport':
					return 'DownStatusSearch';
				case '#navs-top-complete':
					return 'SoldSearch';
			}
		}

		//針對分頁搜尋的tatal整理(control)
		function navsTopSearchTotal(target) {
			switch (target) {
				case '#navs-top-home':
					return 'AllSearchTotal';
				case '#navs-top-inprogress':
					return 'UpStatusSearchTotal';
				case '#navs-top-transport':
					return 'DownStatusSearchTotal';
				case '#navs-top-complete':
					return 'SoldSearchTotal';
			}
		}



		//針對分頁內容的tbody定位
		function productTbody(target) {
			switch (target) {
				case '#navs-top-home':
					return '#AllProduct';
				case '#navs-top-inprogress':
					return '#UpProduct';
				case '#navs-top-transport':
					return '#DownProduct';
				case '#navs-top-complete':
					return '#SoldProduct';
			}
		}


		//針對圖片整理
		function displayImageFromBase64(base64ImageData) {
			const imageBinaryStr = atob(base64ImageData);
			let len = imageBinaryStr.length;
			const uint8Array = new Uint8Array(len);
			while (len--) {
				uint8Array[len] = imageBinaryStr.charCodeAt(len);
			}
			const blob = new Blob([uint8Array]);
			const blobUrl = URL.createObjectURL(blob); // 產生 Blob URL
			// document.querySelector('#avatar').src = blobUrl; // 設定圖片的 src 屬性
			return blobUrl; // 返回 Blob URL
		}

		//***上傳圖片後，圖片會預覽***
		// 對於動態生成的 <input type="file"> 元素的 change 事件使用事件代理
		$(document).on("change", "input[type='file']", function () {
			const targetImg = $(this).data("target");
			const fileInput = this;
			if (fileInput.files && fileInput.files[0]) {
				const reader = new FileReader();
				reader.onload = function (e) {
					$(targetImg).attr("src", e.target.result);
				};
				reader.readAsDataURL(fileInput.files[0]);
			}
		});


		//上傳輯編規格(圖)
		function insertSpecImg(formDataSpecImg) {
			fetch('../uploadSpecPicture', {
				method: 'POST',
				body: formDataSpecImg,
				headers: {'Authorization': ` Bearer ${jwtToken}`}
			})
				.then(response => {
					if (response.ok) {
						console.log('All images uploaded successfully!');
					} else {
						console.error('Image upload failed!');
					}
				})
				.catch(error => {
					console.error('Error:', error);
				});
		}


		//上傳編輯規格(text)
		function updateSpecProduct(dataToSend) {
			fetch('../updateSpecText', {
				method: 'POST',
				body: JSON.stringify(dataToSend),
				headers: {
					'Content-Type': 'application/json',
					'Authorization': ` Bearer ${jwtToken}`
				}
			})
				.then((response) => {
					// 檢查回應的狀態碼
					if (!response.ok) {
						throw new Error('Network response was not ok');
						console.log(response);
					}
					// 解析JSON格式的回應
					return response.json();
				})
				.then((data) => {
					if (data) {
						console.log("修改成功");
					}
				})
				.catch((error) => {
					console.error('Fetch error:', error);
				});
		}


		//針對編輯商品查詢
		function retrieveProduct(dataToSend) {
			fetch('../product/product-details', {
				method: 'POST',
				body: JSON.stringify(dataToSend),
				headers: {
					'Content-Type': 'application/json',
					'Authorization': ` Bearer ${jwtToken}`
				}
			})
				.then((response) => {
					// 檢查回應的狀態碼
					if (!response.ok) {
						throw new Error('Network response was not ok');
						console.log(response);
					}
					// 解析JSON格式的回應
					return response.json();
				})
				.then((data) => {
					if (data == 0) {
						$("#product_edit_button .error_message").text("查無編號");
						$("#product_edit_button .error_message").css("display", "block");
					} else {
						//console.log(data);
						//console.log("可以進下一頁了");
						//console.log(dataToSend.productId);

						// 導航至下一頁並傳遞數據
						const nextPageUrl = "../frontend/product_new.html"; // 請將URL替換為實際的下一頁URL
						const queryParams = `productId=${encodeURIComponent(dataToSend.productId)}`;
						const finalUrl = `${nextPageUrl}?${queryParams}`;
						window.location.href = finalUrl;
					}
				})
				.catch((error) => {
					console.error('Fetch error:', error);
				});
		}




		//下拉式選單
		// document.querySelectorAll('.dropdown-item').forEach(function (item) {
		// 	item.addEventListener('click', function () {
		// 		var selectedText = this.textContent; // 取得選擇的項目文字
		// 		var dropdownToggle = this.closest('.dropdown').querySelector('.dropdown-toggle');
		// 		dropdownToggle.textContent = selectedText; // 將選擇的項目文字顯示在按鈕上
		// 	});
		// });
		// let activeTab_up = 0;




		document.addEventListener("coreDone",function () {
			//const registerSupplier = "S000000001";

			//////////////////////////////////////////////////////////////////
			//一開始進入頁面時，分頁第一個要顯示的資料
			fetch('../AllProductSpecTotal', {
				method: 'POST',
				body: JSON.stringify({registerSupplier: supplierId}),
				headers: {
					'Content-Type': 'application/json',
					'Authorization': ` Bearer ${jwtToken}`
				}
			})
				.then((response) => {
					// 檢查回應的狀態碼
					if (!response.ok) {
						throw new Error('Network response was not ok');
					}
					// 解析JSON格式的回應
					return response.json();
				})
				.then((data) => {
					$("#navs-top-home .productTotal").text(data.toLocaleString() + "件商品");

				})
				.catch((error) => {
					console.error('Fetch error:', error);
				});



			fetch('../AllProductSpecManage', {
				method: 'POST',
				body: JSON.stringify({registerSupplier: supplierId}),
				headers: {
					'Content-Type': 'application/json',
					'Authorization': ` Bearer ${jwtToken}`
				}
			})
				.then((response) => {
					// 檢查回應的狀態碼
					if (!response.ok) {
						throw new Error('Network response was not ok');
					}
					// 解析JSON格式的回應
					return response.json();
				})
				.then((data) => {
					let list_html = "";

					data.forEach(function (productSpec) {
						// 在這裡對每個產品進行處理
						// 取得產品圖片的 Base64 字串
						const base64Image = displayImageFromBase64(productSpec.specPicture);
						//取得產品規格id
						const productSpecId = productSpec.productSpecId;
						// 取得產品名稱
						const productName = productSpec.productName;
						//取得對規格1
						const specType1 = productSpec.specType1;
						const specInfo1 = productSpec.specInfo1;
						//取得對規格2
						const specType2 = productSpec.specType2;
						const specInfo2 = productSpec.specInfo2;
						// 取得產品價格
						const productPrice = productSpec.productPrice;
						//取得即時庫存
						const specStock = productSpec.specStock;
						//取得已售出
						const soldStock = productSpec.soldStock;
						//取得狀態
						const shelvesStatus = shelvesStatusName(productSpec.shelvesStatus);


						// 也可以將其他產品資料顯示在網頁上
						list_html += `
										<tr>
											<td class="check">
												<input type="checkbox" class="selectRow" data-page="#navs-top-home" data-product-spec-id="${productSpecId}">
											</td>
											<td><img class="productImg" src="${base64Image}" alt=""></td>
											<td class="productNameTd">
												<p class="productName">${productName}</p>
												<p class="productId">${productSpecId}</p>
											</td>
											<td class="spec1">${specInfo1}</td>
											<td class="type1" style="display: none;">${specType1}</td>
											<td class="spec2">${specInfo2}</td>
											<td class="type2" style="display: none;">${specType2}</td>
											<td class="price">NT$${productPrice}</td>
											<td class="stock">${specStock}</td>
											<td class="soldNum">${soldStock}</td>
											<td class="status">${shelvesStatus}</td>
											<td class="edit_delete_btn">
												<button class="edit_btn btn btn-primary btn-XS" type="button">編輯</button>
											</td>
										</tr>
									`;
					});
					$('#navs-top-home #AllProduct').html(list_html);

				})
				.catch((error) => {
					console.error('Fetch error:', error);
				});


			$('#navs-top-home .Search_btn').off('click').on('click', function () {
				// 獲取下拉式選單的值
				const selectedOption = $('#navs-top-home #collectionSelect').val();
				let optionName;
				if (selectedOption == 1) {
					optionName = "productName";
				} else {
					optionName = "productSpecId";
				}

				// 獲取搜尋框的值
				const keyword = $('#navs-top-home .search-KeyWord').val().trim();

				// 如果搜尋框為空，則不執行搜尋
				if (keyword === '') {
					return;
				} else {
					console.log(keyword);
					console.log(optionName);
				}

				// 搜尋框有文字，可以進行搜尋
				// 將 selectedOption 和 keyword 送往後端處理
				//針對分頁搜尋tatal
				fetch('../AllSearchTotal', {
					method: 'POST',
					body: JSON.stringify({registerSupplier: supplierId, optionName: optionName, searchText: keyword}),
					headers: {
						'Content-Type': 'application/json',
						'Authorization': ` Bearer ${jwtToken}`
					}
				})
					.then((response) => {
						// 檢查回應的狀態碼
						if (!response.ok) {
							throw new Error('Network response was not ok');
						}
						// 解析JSON格式的回應
						return response.json();
					})
					.then((data) => {
						$('#navs-top-home .productTotal').text(data.toLocaleString() + "件商品");

					})
					.catch((error) => {
						console.error('Fetch error:', error);
					});

				//針對分頁搜尋內容
				fetch('../AllSearch', {
					method: 'POST',
					body: JSON.stringify({registerSupplier: supplierId, optionName: optionName, searchText: keyword}),
					headers: {
						'Content-Type': 'application/json',
						'Authorization': ` Bearer ${jwtToken}`
					}
				})
					.then(response => {
						if (!response.ok) {
							throw new Error('Network response was not ok');
						}
						return response.json();
					})
					.then(data => {
						let list_html = "";

						if (data.length === 0) {
							$('#navs-top-home .tableTwo').html("<span style='font-size: 24px; text-align: center; display: block;margin-top:30px;'>很抱歉，查無資料</span>");
						}
						data.forEach(function (productSpec) {
							// 在這裡對每個產品進行處理
							// 取得產品圖片的 Base64 字串
							const base64Image = displayImageFromBase64(productSpec.specPicture);
							//取得產品規格id
							const productSpecId = productSpec.productSpecId;
							// 取得產品名稱
							const productName = productSpec.productName;
							//取得對規格1
							const specType1 = productSpec.specType1;
							const specInfo1 = productSpec.specInfo1;
							//取得對規格2
							const specType2 = productSpec.specType2;
							const specInfo2 = productSpec.specInfo2;
							// 取得產品價格
							const productPrice = productSpec.productPrice;
							//取得即時庫存
							const specStock = productSpec.specStock;
							//取得已售出
							const soldStock = productSpec.soldStock;
							//取得狀態
							const shelvesStatus = shelvesStatusName(productSpec.shelvesStatus);


							// 也可以將其他產品資料顯示在網頁上
							list_html += `
										<tr>
											<td class="check">
												<input type="checkbox" class="selectRow" data-page="#navs-top-home" data-product-spec-id="${productSpecId}">
											</td>
											<td><img class="productImg" src="${base64Image}" alt=""></td>
											<td class="productNameTd">
												<p class="productName">${productName}</p>
												<p class="productId">${productSpecId}</p>
											</td>
											<td class="spec1">${specInfo1}</td>
											<td class="type1" style="display: none;">${specType1}</td>
											<td class="spec2">${specInfo2}</td>
											<td class="type2" style="display: none;">${specType2}</td>
											<td class="price">NT$${productPrice.toLocaleString()}</td>
											<td class="stock">${specStock.toLocaleString()}</td>
											<td class="soldNum">${soldStock.toLocaleString()}</td>
											<td class="status">${shelvesStatus}</td>
											<td class="edit_delete_btn">
												<button class="edit_btn btn btn-primary btn-XS" type="button">編輯</button>
											</td>
										</tr>
									`;
						});
						$('#AllProduct').html(list_html);
					})
					.catch(error => console.error('Error:', error));
			});

			//////////////////////////////////////////////////////////////////

			$('#navs-top-home #selectAll').change(function () {
				const isChecked = $(this).prop('checked');
				$('#navs-top-home').find('.selectRow').prop('checked', isChecked);
			});



			//////////////////////////////////////////////////////////////////
			$('.nav-link').click(function () {
				const activeTab = $('.nav-link.active').attr('aria-controls');
				//console.log(activeTab);
				if ($('.stock_update_btn').hasClass('-on')) {
					$('.stock_update_btn').removeClass('-on');
					$('.stock_update_btn').text("庫存異動");
					$('#' + activeTab_up).find('th.operate_txt').text('操作');
				}

				// 獲取目標元素的ID
				const targetId = $(this).data('bs-target');
				// 在控制台上輸出目標ID
				console.log(targetId);

				// 監聽表頭複選框的變更事件
				$(targetId + ' #selectAll').change(function () {
					const isChecked = $(this).prop('checked');

					// 將該分頁內的每一行的複選框設置為與表頭複選框相同的狀態
					$(targetId).find('.selectRow').prop('checked', isChecked);
				});


				//針對分頁tatal/
				fetch(`../${navsTopTotal(targetId)}`, {
					method: 'POST',
					body: JSON.stringify({registerSupplier: supplierId}),
					headers: {
						'Content-Type': 'application/json',
						'Authorization': ` Bearer ${jwtToken}`
					}
				})
					.then((response) => {
						// 檢查回應的狀態碼
						if (!response.ok) {
							throw new Error('Network response was not ok');
						}
						// 解析JSON格式的回應
						return response.json();
					})
					.then((data) => {
						$(`${targetId} .productTotal`).text(data.toLocaleString() + "件商品");

					})
					.catch((error) => {
						console.error('Fetch error:', error);
					});


				//針對分頁內容
				fetch(`../${navsTopName(targetId)}`, {
					method: 'POST',
					body: JSON.stringify({registerSupplier: supplierId}),
					headers: {
						'Content-Type': 'application/json',
						'Authorization': ` Bearer ${jwtToken}`
					}
				})
					.then((response) => {
						// 檢查回應的狀態碼
						if (!response.ok) {
							throw new Error('Network response was not ok');
						}
						// 解析JSON格式的回應
						return response.json();
					})
					.then((data) => {
						let list_html = "";
						//console.log(data.length);
						if (data.length === 0) {
							//console.log(data.length === 0);
							$(`${targetId} .tableTwo`).html("<span style='font-size: 24px; text-align: center; display: block;margin-top:30px;'>無資料</span>");
						}
						data.forEach(function (productSpec) {
							// 在這裡對每個產品進行處理
							// 取得產品圖片的 Base64 字串
							const base64Image = displayImageFromBase64(productSpec.specPicture);
							//取得產品規格id
							const productSpecId = productSpec.productSpecId;
							// 取得產品名稱
							const productName = productSpec.productName;
							//取得對規格1
							const specType1 = productSpec.specType1;
							const specInfo1 = productSpec.specInfo1;
							//取得對規格2
							const specType2 = productSpec.specType2;
							const specInfo2 = productSpec.specInfo2;
							// 取得產品價格
							const productPrice = productSpec.productPrice;
							//取得即時庫存
							const specStock = productSpec.specStock;
							//取得已售出
							const soldStock = productSpec.soldStock;
							//取得狀態
							const shelvesStatus = shelvesStatusName(productSpec.shelvesStatus);


							// 也可以將其他產品資料顯示在網頁上
							list_html += `
										<tr>
											<td class="check">
												<input type="checkbox" class="selectRow" data-page="${targetId}" data-product-spec-id="${productSpecId}">
											</td>
											<td><img class="productImg" src="${base64Image}" alt=""></td>
											<td class="productNameTd">
												<p class="productName">${productName}</p>
												<p class="productId">${productSpecId}</p>
											</td>
											<td class="spec1">${specInfo1}</td>
											<td class="type1" style="display: none;">${specType1}</td>
											<td class="spec2">${specInfo2}</td>
											<td class="type2" style="display: none;">${specType2}</td>
											<td class="price">NT$${productPrice.toLocaleString()}</td>
											<td class="stock">${specStock.toLocaleString()}</td>
											<td class="soldNum">${soldStock.toLocaleString()}</td>
											<td class="status">${shelvesStatus}</td>
											<td class="edit_delete_btn">
												<button class="edit_btn btn btn-primary btn-XS" type="button">編輯</button>
											</td>
										</tr>
									`;
						});
						$(`${productTbody(targetId)}`).html(list_html);


					})
					.catch((error) => {
						console.error('Fetch error:', error);
					});

				///////////////////////////////////////////////
				//針對搜尋框作業
				$(`${targetId} .Search_btn`).off('click').on('click', function () {
					// 獲取下拉式選單的值
					const selectedOption = $(`${targetId} #collectionSelect`).val();
					let optionName;
					if (selectedOption == 1) {
						optionName = "productName";
					} else {
						optionName = "productSpecId";
					}

					// 獲取搜尋框的值
					const keyword = $(`${targetId} .search-KeyWord`).val().trim();

					// 如果搜尋框為空，則不執行搜尋
					if (keyword === '') {
						return;
					} else {
						console.log(keyword);
						console.log(optionName);
					}

					// 搜尋框有文字，可以進行搜尋
					// 將 selectedOption 和 keyword 送往後端處理
					//針對分頁搜尋tatal
					fetch(`../${navsTopSearchTotal(targetId)}`, {
						method: 'POST',
						body: JSON.stringify({registerSupplier: supplierId, optionName: optionName, searchText: keyword}),
						headers: {
							'Content-Type': 'application/json',
							'Authorization': ` Bearer ${jwtToken}`
						}
					})
						.then((response) => {
							// 檢查回應的狀態碼
							if (!response.ok) {
								throw new Error('Network response was not ok');
							}
							// 解析JSON格式的回應
							return response.json();
						})
						.then((data) => {
							$(`${targetId} .productTotal`).text(data.toLocaleString() + "件商品");

						})
						.catch((error) => {
							console.error('Fetch error:', error);
						});

					//針對分頁搜尋內容
					fetch(`../${navsTopSearchName(targetId)}`, {
						method: 'POST',
						body: JSON.stringify({registerSupplier: supplierId, optionName: optionName, searchText: keyword}),
						headers: {
							'Content-Type': 'application/json',
							'Authorization': ` Bearer ${jwtToken}`
						}
					})
						.then(response => {
							if (!response.ok) {
								throw new Error('Network response was not ok');
							}
							return response.json();
						})
						.then(data => {
							let list_html = "";
							if (data.length === 0) {
								$(`${targetId} .tableTwo`).html("<span style='font-size: 24px; text-align: center; display: block;margin-top:30px;'>很抱歉，查無資料</span>");
							}
							data.forEach(function (productSpec) {
								// 在這裡對每個產品進行處理
								// 取得產品圖片的 Base64 字串
								const base64Image = displayImageFromBase64(productSpec.specPicture);
								//取得產品規格id
								const productSpecId = productSpec.productSpecId;
								// 取得產品名稱
								const productName = productSpec.productName;
								//取得對規格1
								const specType1 = productSpec.specType1;
								const specInfo1 = productSpec.specInfo1;
								//取得對規格2
								const specType2 = productSpec.specType2;
								const specInfo2 = productSpec.specInfo2;
								// 取得產品價格
								const productPrice = productSpec.productPrice;
								//取得即時庫存
								const specStock = productSpec.specStock;
								//取得已售出
								const soldStock = productSpec.soldStock;
								//取得狀態
								const shelvesStatus = shelvesStatusName(productSpec.shelvesStatus);


								// 也可以將其他產品資料顯示在網頁上
								list_html += `
										<tr>
											<td class="check">
												<input type="checkbox" class="selectRow" data-page="${targetId}" data-product-spec-id="${productSpecId}">
											</td>
											<td><img class="productImg" src="${base64Image}" alt=""></td>
											<td class="productNameTd">
												<p class="productName">${productName}</p>
												<p class="productId">${productSpecId}</p>
											</td>
											<td class="spec1">${specInfo1}</td>
											<td class="type1" style="display: none;">${specType1}</td>
											<td class="spec2">${specInfo2}</td>
											<td class="type2" style="display: none;">${specType2}</td>
											<td class="price">NT$${productPrice.toLocaleString()}</td>
											<td class="stock">${specStock.toLocaleString()}</td>
											<td class="soldNum">${soldStock.toLocaleString()}</td>
											<td class="status">${shelvesStatus}</td>
											<td class="edit_delete_btn">
												<button class="edit_btn btn btn-primary btn-XS" type="button">編輯</button>
											</td>
										</tr>
									`;
							});
							$(`${productTbody(targetId)}`).html(list_html);
						})
						.catch(error => console.error('Error:', error));
				});

			});

		});


		//庫存更新鈕
		let activeTab_up;
		$('.stock_update_btn').click(function () {
			// 按下库存更新按钮时的处理逻辑
			// 根据当前活动分页执行相应的操作
			const activeTab = $('.nav-link.active').attr('aria-controls');
			//console.log(activeTab);
			if ($('.stock_update_btn').hasClass('-on')) {
				//const restockMemberId = "M000000001";
				// 修改選擇器，僅選擇目前處於 active 狀態的分頁內的複選框
				var selectedCheckboxes = $(".selectRow:checked[data-page='#" + activeTab + "']");
				// 取得目前所在分頁內的勾選的商品規格編號
				var productSpecIds = [];
				//取得目前所在分頁內的勾選的商品補充數量
				var restockQuantitys = [];
				var beforeRestockStocks = [];
				var hasEmptyStockUpdate = false; // 設定一個變數來檢查是否有空白的補充庫存數量
				if (selectedCheckboxes.length === 0) {
					alert("需勾選要更新的商品規格");
					return;
				}
				selectedCheckboxes.each(function () {
					//console.log(this);
					var productSpecId = $(this).data("product-spec-id");
					var beforeRestockStock = $(this).closest("tr").find(".stock").text();
					var restockQuantity = $(this).closest("tr").find(".stock_update_num").val();
					if (restockQuantity.trim() === "" || parseFloat(restockQuantity) <= 0) {
						alert("補充庫存數量不得為空白或小於等於0");
						hasEmptyStockUpdate = true; // 將變數設為 true，表示有空白的補充庫存數量
						return false; // 停止 each 迴圈的執行
					}
					productSpecIds.push(productSpecId);
					beforeRestockStocks.push(beforeRestockStock);
					restockQuantitys.push(restockQuantity);
				});
				if (hasEmptyStockUpdate) {
					return; // 如果有空白的補充庫存數量，則停止後續的程式碼執行
				}

				// 將取得的商品規格編號轉換成 JSON 格式，以便送往後端
				fetch('../updateStock', {
					method: 'POST', // 修改這裡為 'POST'
					body: JSON.stringify({
						productSpecIds: productSpecIds, restockMemberId: memberId, beforeRestockStocks: beforeRestockStocks, restockQuantitys: restockQuantitys
					}),
					headers: {
						'Content-Type': 'application/json',
						'Authorization': ` Bearer ${jwtToken}`
					}
				})
					.then((response) => {
						// 檢查回應的狀態碼
						console.log(response);
						if (!response.ok) {
							throw new Error('Network response was not ok');
						}
						// 解析JSON格式的回應
						return response.json();
					})
					.then((data) => {
						data.forEach(function (productSpec) {
							//取得產品規格id
							const productSpecId = productSpec.productSpecId;
							//取得即時庫存
							const specStock = productSpec.specStock;
							$(`#${activeTab} .selectRow[data-product-spec-id="${productSpecId}"]`).closest("tr").find(".stock").text(specStock.toLocaleString());
						});
						alert("庫存更新完成");

					})
					.catch((error) => {
						console.error('Fetch error:', error);
					});

				$('.stock_update_btn').removeClass('-on');
				$('.stock_update_btn').text("庫存異動");
				$('#' + activeTab).find('th.operate_txt').text('操作');
				$('#' + activeTab).find('.edit_delete_btn').empty().append('<button class="edit_btn btn btn-primary btn-XS" type="button">編輯</button>');
			} else {
				$('.stock_update_btn').addClass('-on');
				$('.stock_update_btn').text("更新庫存");
				$('#' + activeTab).find('th.operate_txt').text('補充數量');
				$('#' + activeTab).find('.edit_delete_btn').empty().append('<input class="stock_update_num" style="width:50px;text-align: center;" type="number" min="1">');
			}
			activeTab_up = activeTab;
		});



		// 綁定「上下架」按鈕的點擊事件
		$(".status_btn").click(function () {
			// 取得目前處於 active 狀態的分頁資料的 id
			const activeTab = $('.nav-link.active').attr('aria-controls');
			// 修改選擇器，僅選擇目前處於 active 狀態的分頁內的複選框
			var selectedCheckboxes = $(".selectRow:checked[data-page='#" + activeTab + "']");
			// 取得目前所在分頁內的勾選的商品規格編號
			var productSpecIds = [];
			selectedCheckboxes.each(function () {
				var productSpecId = $(this).data("product-spec-id");
				productSpecIds.push(productSpecId);
			});

			if (selectedCheckboxes.length === 0) {
				alert("請勾選商品規格");
				return;
			}
			console.log(productSpecIds);
			//取得會員編號
			//const shelvesMemberId = "M000000001";
			//取得異動狀態
			let shelvesStatus;
			if (activeTab == "navs-top-inprogress") {
				shelvesStatus = "1";
			} else {
				shelvesStatus = "0";
			}

			// 將取得的商品規格編號轉換成 JSON 格式，以便送往後端
			fetch('../StatusButton', {
				method: 'POST', // 修改這裡為 'POST'
				body: JSON.stringify({
					productSpecIds: productSpecIds, shelvesMemberId: memberId, shelvesStatus: shelvesStatus
				}),
				headers: {
					'Content-Type': 'application/json',
					'Authorization': ` Bearer ${jwtToken}`
				}
			})
				.then((response) => {
					// 檢查回應的狀態碼
					console.log(response);
					if (!response.ok) {
						throw new Error('Network response was not ok');
					}
					// 解析JSON格式的回應
					return response.json();
				})
				.then((data) => {
					if (data == true) {
						selectedCheckboxes.closest('tr').remove();
						const remainingRows = $(`#${activeTab} tbody tr`).length;
						$(`#${activeTab} .productTotal`).text(`${remainingRows}` + "件商品");
					}

				})
				.catch((error) => {
					console.error('Fetch error:', error);
				});
		});


		// 綁定「刪除」按鈕的點擊事件
		$(".delete_btn").click(function () {
			// 取得目前處於 active 狀態的分頁資料的 id
			const activeTab = $('.nav-link.active').attr('aria-controls');
			// 修改選擇器，僅選擇目前處於 active 狀態的分頁內的複選框
			var selectedCheckboxes = $(".selectRow:checked[data-page='#" + activeTab + "']");
			// 取得目前所在分頁內的勾選的商品規格編號
			var productSpecIds = [];
			selectedCheckboxes.each(function () {
				var productSpecId = $(this).data("product-spec-id");
				productSpecIds.push(productSpecId);
			});
			//取得會員編號
			//const shelvesMemberId = "M000000001";
			//取得異動狀態
			let shelvesStatus = "2";
			if (selectedCheckboxes.length === 0) {
				alert("請勾選商品規格");
				return;
			}
			// 將取得的商品規格編號轉換成 JSON 格式，以便送往後端
			fetch('../StatusButton', {
				method: 'POST', // 修改這裡為 'POST'
				body: JSON.stringify({
					productSpecIds: productSpecIds, shelvesMemberId: memberId, shelvesStatus: shelvesStatus
				}),
				headers: {
					'Content-Type': 'application/json',
					'Authorization': ` Bearer ${jwtToken}`
				}
			})
				.then((response) => {
					// 檢查回應的狀態碼
					console.log(response);
					if (!response.ok) {
						throw new Error('Network response was not ok');
					}
					// 解析JSON格式的回應
					return response.json();
				})
				.then((data) => {
					if (data == true) {
						selectedCheckboxes.closest('tr').remove();
						const remainingRows = $(`#${activeTab} tbody tr`).length;
						$(`#${activeTab} .productTotal`).text(`${remainingRows}` + "件商品");
					}

				})
				.catch((error) => {
					console.error('Fetch error:', error);
				});
		});

		let productSpecId_edit;
		let productImg_edit;
		let spec1_edit;
		let type1_edit;
		let spec2_edit;
		let type2_edit;
		//輯編鈕
		$(document).on('click', '.edit_btn', function (event) {
			productSpecId_edit = $(event.target).closest("tr").find(".productId").text();
			productImg_edit = $(event.target).closest("tr").find(".productImg");
			spec1_edit = $(event.target).closest("tr").find(".spec1");
			type1_edit = $(event.target).closest("tr").find(".type1");
			spec2_edit = $(event.target).closest("tr").find(".spec2");
			type2_edit = $(event.target).closest("tr").find(".type2");
			console.log(productSpecId_edit);
			$("#productSpec_edit_button .productSpecId").text("編號 " + productSpecId_edit);
			$("#productSpec_edit_button .product_spec_img").attr('src', productImg_edit.attr('src'));
			$("#productSpec_edit_button .specType1").val(type1_edit.text());
			$("#productSpec_edit_button .specInfo1").val(spec1_edit.text());
			$("#productSpec_edit_button .specType2").val(type2_edit.text());
			$("#productSpec_edit_button .specInfo2").val(spec2_edit.text());
			$("#productSpec_edit_button").modal('show');
		});

		$(document).on('click', '.Save_edit_btn', function (event) {
			//處理規格圖
			const imageFile = $(".img_spc_file")[0].files[0];
			const updateImg = $("#productSpec_edit_button .product_spec_img").attr('src');
			if (productImg_edit.attr('src') != updateImg) {
				let formDataSpecImg = new FormData();
				formDataSpecImg.append('images', imageFile);
				formDataSpecImg.append('productSpecIds', productSpecId_edit);
				insertSpecImg(formDataSpecImg);
				productImg_edit.attr('src', updateImg);
			}

			//處理文字
			const modalSpecType1 = $("#productSpec_edit_button .specType1").val();
			const modalSpecInfo1 = $("#productSpec_edit_button .specInfo1").val().trim();
			const modalSpecType2 = $("#productSpec_edit_button .specType2").val();
			const modalSpecInfo2 = $("#productSpec_edit_button .specInfo2").val().trim();

			if (modalSpecInfo1 === "" || modalSpecInfo2 === "") {
				alert("請填寫完整資料");;
				return; // 跳出 each 迴圈
			}

			if (!(modalSpecType1 == type1_edit.text() && modalSpecInfo1 == spec1_edit.text() && modalSpecType2 == type2_edit.text() && modalSpecInfo2 == spec2_edit.text())) {
				let dataToSend = {};
				dataToSend = {productSpecId: productSpecId_edit, specType1: modalSpecType1, specInfo1: modalSpecInfo1, specType2: modalSpecType2, specInfo2: modalSpecInfo2};
				updateSpecProduct(dataToSend);
				spec1_edit.text(modalSpecInfo1);
				type1_edit.text(modalSpecType1);
				spec2_edit.text(modalSpecInfo2);
				type2_edit.text(modalSpecType2);
			}

			// 關閉彈窗
			$("#productSpec_edit_button").modal("hide");


		});


		$(".product_edit_btn").click(function () {
			$("#product_edit_button").modal('show');

			$(".btn-redirect").click(function () {
				//取得會員編號
				//const registerSupplier = "S000000001";
				const inquire_SpecId = $(".inquire").val().trim();
				//parseFloat(
				if (isNaN(parseFloat(inquire_SpecId)) || parseFloat(inquire_SpecId) <= 0) {
					$("#product_edit_button .error_message").text("請填寫正確編號");
					$("#product_edit_button .error_message").css("display", "block");
					return;
				}
				if (inquire_SpecId.length != 8) {
					$("#product_edit_button .error_message").text("需填8碼");
					$("#product_edit_button .error_message").css("display", "block");
					return;
				}
				let dataToSend = {};
				dataToSend = {productId: inquire_SpecId, registerSupplier: supplierId};
				retrieveProduct(dataToSend);



			});

		});





		/*為分頁寫法
		$(document).ready(function () {
			// 資料
			const data = [
				{ productName: '哈利波特', productId: 'xxxxxxxxx', spec1: '????', spec2: '????', price: 'NT$2000', stock: '100,000', soldNum: '100,000', status: '上架中' },
				// 其他資料項目
			];

			// 分頁參數
			const itemsPerPage = 10;
			let currentPage = 1;

			// 顯示表格內容
			function displayTable() {
				const tableBody = $('#myTable tbody');
				tableBody.empty();

				const startIndex = (currentPage - 1) * itemsPerPage;
				const endIndex = startIndex + itemsPerPage;

				for (let i = startIndex; i < endIndex && i < data.length; i++) {
					const rowData = data[i];

					// 建立表格行
					const row = $('<tr>');

					// 建立複選框欄位
					const checkboxCell = $('<td>', { class: 'check' });
					const checkbox = $('<input>', { type: 'checkbox', class: 'selectRow' });
					checkboxCell.append(checkbox);
					row.append(checkboxCell);

					// 建立圖片欄位
					const imgCell = $('<td>');
					const img = $('<img>', { class: 'productImg', src: './image/square.svg', alt: '' });
					imgCell.append(img);
					row.append(imgCell);

					// 建立商品名稱欄位
					const productNameCell = $('<td>', { class: 'productNameTd' });
					const productName = $('<p>', { class: 'productName', text: rowData.productName });
					const productId = $('<p>', { class: 'productId', text: rowData.productId });
					productNameCell.append(productName, productId);
					row.append(productNameCell);

					// 建立其他欄位
					const spec1Cell = $('<td>', { class: 'spec1', text: rowData.spec1 });
					const spec2Cell = $('<td>', { class: 'spec2', text: rowData.spec2 });
					const priceCell = $('<td>', { class: 'price', text: rowData.price });
					const stockCell = $('<td>', { class: 'stock', text: rowData.stock });
					const soldNumCell = $('<td>', { class: 'soldNum', text: rowData.soldNum });
					const statusCell = $('<td>', { class: 'status', text: rowData.status });
					const editCell = $('<td>');
					const dropdown = $('<div>', { class: 'dropdown' });
					const editButton = $('<button>', { class: 'edit dropdown-toggle btn btn-primary', type: 'button', id: 'dropdownMenuButton', 'data-bs-toggle': 'dropdown', 'aria-expanded': 'false', text: '編輯' });
					const dropdownMenu = $('<ul>', { class: 'dropdown-menu', 'aria-labelledby': 'dropdownMenuButton' });
					const dropdownItem1 = $('<li>').append($('<a>', { class: 'dropdown-item', href: '#', text: '項目1' }));
					const dropdownItem2 = $('<li>').append($('<a>', { class: 'dropdown-item', href: '#', text: '項目2' }));
					const dropdownItem3 = $('<li>').append($('<a>', { class: 'dropdown-item', href: '#', text: '項目3' }));
					dropdownMenu.append(dropdownItem1, dropdownItem2, dropdownItem3);
					dropdown.append(editButton, dropdownMenu);
					editCell.append(dropdown);
					row.append(spec1Cell, spec2Cell, priceCell, stockCell, soldNumCell, statusCell, editCell);

					// 將表格行加入表格主體
					tableBody.append(row);
				}
			}

			// 切換到前一頁
			function previousPage() {
				if (currentPage > 1) {
					currentPage--;
					displayTable();
				}
			}

			// 切換到下一頁
			function nextPage() {
				const totalPages = Math.ceil(data.length / itemsPerPage);
				if (currentPage < totalPages) {
					currentPage++;
					displayTable();
				}
			}

			// 監聽分頁按鈕點擊事件
			$('#prevPage').on('click', previousPage);
			$('#nextPage').on('click', nextPage);

			// 顯示初始表格
			displayTable();
		});

		*/






	</script>








</body>

</html>